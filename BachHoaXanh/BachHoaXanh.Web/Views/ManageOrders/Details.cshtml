@model BachHoaXanh.Data.Models.Bill

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}


<h2>Quản lý đơn hàng</h2>

<link href="~/Content/css/style.css" rel="stylesheet" />
<link href="~/Content/css/easy-responsive-tabs.css" rel="stylesheet" />
<link href="~/Content/web/css/style.css" rel="stylesheet" />
<link href="~/Content/css/bootstrap.css" rel="stylesheet" />

<!--Horizontal Tab-->
@using (Html.BeginForm())
{
<div id="parentHorizontalTab" style="display: block; width: 100%; margin: 0px;">
    @*<ul class="resp-tabs-list hor_1">
        <li class="resp-tab-item hor_1resp-tab-content-active" aria-controls="hor_1_tab_item-4" role="tab" style="background-color: white; border-color: rgb(193, 193, 193);"><a href="/ManageOrders/ChuaThanhToan">CHƯA THANH TOÁN</a></li>
        <li class="resp-tab-item hor_1 " aria-controls="hor_1_tab_item-2" role="tab" style="background-color: rgb(245, 245, 245); "><a href="/ManageOrders/DaThanhToanVaChuaGiao">ĐÃ THANH TOÁN VÀ CHƯA GIAO</a></li>
        <li class="resp-tab-item hor_1" aria-controls="hor_1_tab_item-2" role="tab" style="background-color: rgb(245, 245, 245); "><a href="/ManageOrders/DaThanhToanVaDaGiao">ĐÃ GIAO VÀ ĐÃ THANH TOÁN</a></li>

    </ul>*@
    <div class="resp-tabs-container hor_1" style="border-color: rgb(193, 193, 193);">


        <div class="vertical_post check_box_agile">
            @if (Model != null)
            {
                <table class="table">
                    <tr>
                        <th>
                            Mã đơn hàng
                        </th>
                        <td>
                            @*@Html.DisplayFor(modelItem => item.Id)*@
                            @Html.DisplayFor(modelItem => Model.Id)
                        </td>
                        <th>
                            Khach hàng
                        </th>
                        <td>
                            @Html.DisplayFor(modelItem => Model.CustomerName)
                        </td>
                        <th>
                            Ngày đặt hàng
                        </th>
                        <td>
                            @Html.DisplayFor(modelItem => Model.Datetime)
                        </td>
                        <th>
                            Thanh toán
                        </th>
                        <td>
                            @*@Html.DisplayFor(modelItem => item.Name)*@
                            @Html.EditorFor(modelItem => Model.Payment)
                        </td>
                        <th>
                            Tình trạng
                        </th>
                        <td>
                            @*@Html.DisplayFor(modelItem => item.Name)*@
                            @Html.DropDownListFor(modelItem => Model.Status, new List<SelectListItem> {
                               new SelectListItem { Value = "Confirm" , Text = "Xác nhận" },
                               new SelectListItem { Value = "Prepare" , Text = "Đang chuẩn bị" },
                                new SelectListItem { Value = "Delivered" , Text = "Đã giao" },
                                 new SelectListItem { Value = "Delivering" , Text = "Đang giao" },
                                 new SelectListItem { Value = "Declined" , Text = "Đã hủy" }})
                        </td>
                        </tr>
                    <tr>
                        <th>
                            Mã sản phẩm
                        </th>
                        <th>
                            Ảnh
                        </th>
                        <th>
                            Tên sản phẩm
                        </th>
                        <th>
                            Số lượng
                        </th>
                        <th>
                            Tổng
                        </th>


                    </tr>

        @foreach (var item in Model.DetailsOfBill)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.ProductId)
                </td>
                <td>
                    @*@Html.DisplayFor(modelItem => item.BranchId)*@
                    <img height="50" width="100" src="@Url.Content(item.Image)" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductName)
                </td>
                <td>
                    @*@Html.DisplayFor(modelItem => item.Name)*@
                    @Html.DisplayFor(modelItem => item.Amount)


            </tr>


        }
        </table>
            }
        <input type="button" value="Print" id="btnPrint" />
        <input type="button" value="Save" id="btnSave" />
        </div>
    </div>
</div>
}

<script>

    $("#btnPrint").click(function (){
        var content = $("#table").html();
        Print(content);
    });

    function Print(content) {
        var printWindow = window.open('', '', 'height=400,width=800');
        printWindow.document.write('<html><head><title>DIV Contents</title>');
        printWindow.document.write('</head><body >');
        printWindow.document.write(content);
        printWindow.document.write('</body><html>');
        printWindow.document.close();
        printWindow.print();
    }
</script>



